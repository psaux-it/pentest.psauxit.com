#!/bin/bash

if [[ $# -eq 1 ]]; then
  dig $1 any
elif [[ $1 == dmarc ]]; then
  dig TXT _dmarc.$2 | grep -v -e "^$\|^;"
elif [[ $1 == spf ]]; then
  dig TXT $2 | grep -v -e "^$\|^;" | grep spf
elif [[ $1 == mx ]]; then
  dig MX $2 | grep -v -e "^$\|^;"
elif [[ $1 == ns ]]; then
  dig NS $2 | grep -v -e "^$\|^;"
elif [[ $1 == aaa ]]; then
  dig A $2 | grep -v -e "^$\|^;"
elif [[ $1 == reverse ]]; then
  dig -x $(dig A $2 | grep -v -e "^$\|^;" | awk '{print $NF}') | grep -v -e "^$\|^;" | awk '{print $5}' | sed 's/.$//'
fi
